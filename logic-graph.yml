schema: 1
plugins:
  - plugins.bh_veritas_plugins
nodes:
  - id: Article
    type: artifact
    description: "The main article in Markdown."
    value: article_blackhole_inevitable_en.md

  - id: PythonCalc
    type: artifact
    description: "Python script that calculates the singularity timeline."
    value: get_phi_years.py

  - id: LeanProject
    type: artifact
    description: "Lean project that formalizes the core mathematical claims."
    value: .

  - id: GrowthPlot
    type: artifact
    value: viz/growth_curves.png

  - id: RobustPlot
    type: artifact
    value: viz/robust_recal.png

  - id: DropletPlot
    type: artifact
    value: viz/info_droplet.png

  # New node: table and sensitivity verification
  - id: SensitivityCheck
    type: artifact
    value: plugins/bh_veritas_plugins/checks.py

  - id: StorageEconomics
    type: artifact
    value: storage_crossover.py

edges:
  - from: Article
    to: PythonCalc
    obligation: bh_python_timeline_check
    meta:
      expected_years: 192

  - from: Article
    to: LeanProject
    obligation: bh_lean_proof_check

  - from: PythonCalc
    to: GrowthPlot
    obligation: growth_curve_png_check

  - from: Article
    to: GrowthPlot
    obligation: growth_curve_png_check

  - from: Article
    to: RobustPlot
    obligation: robust_png_check

  - from: Article
    to: DropletPlot
    obligation: droplet_png_check

  # Verify that all quantitative and sensitivity tables match code
  - from: Article
    to: SensitivityCheck
    obligation: article_table_check

  - from: Article
    to: StorageEconomics
    obligation: storage_table_check

  # Centralization energy inequality
  - from: Article
    to: PythonCalc
    obligation: centralization_energy_check 